services:
  aurashop.cargo.webapi:
    image: ${DOCKER_REGISTRY-}aurashopcargowebapi
    build:
      context: .
      dockerfile: Services/Cargo/AuraShop.Cargo.WebAPI/Dockerfile

  mongo.db.catalog:
    restart: always
    image: mongo:8.0-rc
    container_name: mongo.db.catalog.container
    ports:
      - "27030:27017"
    volumes:
        - mongo.db.catalog.volume:/data/db
  redis.db:
    restart: always
    image: redis:7.0-alpine
    container_name: redis.db
    command: ["redis-server", "--requirepass", "${REDIS_PASSWORD}"]
    ports:
      - "6379:6379"
    volumes:
        - redis.db.basket.volume:/data

volumes:
    mongo.db.catalog.volume:
    redis.db.basket.volume:
